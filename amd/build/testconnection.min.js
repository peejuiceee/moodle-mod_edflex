define("mod_edflex/testconnection",["exports","core/ajax","core/str"],(function(_exports,_ajax,_str){var obj;
/**
   * Tests the connection to the Edflex API.
   *
   * @module    mod_edflex/testconnection
   * @copyright 2025 Edflex <support@edflex.com>
   * @license   https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{document.body.addEventListener("click",(async e=>{if(e.target&&"mod_edflex_test_api_connection_btn"===e.target.id){var _document$getElementB,_document$getElementB2,_document$getElementB3;const[successMessage,errorMessage]=await(0,_str.get_strings)([{key:"apiconnectionsuccess",component:"mod_edflex"},{key:"apiconnectionerror",component:"mod_edflex"}]),notificationContainer=document.getElementById("mod_edflex_connection_status");notificationContainer.textContent="";const args={apiurl:(null===(_document$getElementB=document.getElementById("id_s_mod_edflex_apiurl"))||void 0===_document$getElementB?void 0:_document$getElementB.value)||"",clientid:(null===(_document$getElementB2=document.getElementById("id_s_mod_edflex_clientid"))||void 0===_document$getElementB2?void 0:_document$getElementB2.value)||"",clientsecret:(null===(_document$getElementB3=document.getElementById("id_s_mod_edflex_clientsecret"))||void 0===_document$getElementB3?void 0:_document$getElementB3.value)||""},xhr=_ajax.default.call([{methodname:"mod_edflex_test_api_connection",args:args}])[0];xhr.done((response=>{response.success?notificationContainer.textContent=successMessage:notificationContainer.textContent=errorMessage})),xhr.fail((error=>{const msg=(null==error?void 0:error.message)||"",pre=document.createElement("pre");pre.textContent="".concat(errorMessage," ").concat(msg),notificationContainer.textContent="",notificationContainer.appendChild(pre)}))}}))}}));

//# sourceMappingURL=testconnection.min.js.map